TODO: edge cases in determineTopColor