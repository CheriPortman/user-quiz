TODO: edge cases in determineTopColor
    **currently, tied values result undefined